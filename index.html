<!DOCTYPE html>
<html>
    <head>
        <title>Open Web Store</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
        <link rel="stylesheet" href="/style.css">
        <script src="https://cdn.subnodal.com/lib/subelements.min.js"></script>
        <script src="/script.js"></script>
        <script src="/pages.js"></script>
    </head>
    <body hidden>
        <header>
            <input placeholder="{{ _('searchPlaceholder') }}" onkeyup="switchToSearch();" id="search">
        </header>
        <main>
            <s-if condition="{{ ['explore', 'new', 'installed', 'search'].includes(currentPage) }}">
                <s-for var="i" start="0" stop="appsList.length">
                    <s-set var="app" value="appsList[i]"></s-set>
                    <a class="app">
                        <img src="{{ app.iconUrl }}" aria-hidden="true">
                        <h2 class="name">{{ app.name }}</h2>
                        <p class="author">{{ app.author.name }}</p>
                        <p class="description">{{ app.description }}</p>
                        <s-if condition="{{ ['explore', 'new'].includes(currentPage) && Array.isArray(app.screenshotUrls) }}">
                            <s-for var="j" start="0" stop="app.screenshotUrls.length">
                                <img src="{{ app.screenshotUrls[j] }}" aria-hidden="true">
                            </s-for>
                        </s-if>
                    </a>
                </s-for>
            </s-if>
            <s-if condition="{{ currentPage == 'categories' }}">
                <p>Categories</p>
            </s-if>
            <s-if condition="{{ currentPage == 'add' }}">
                <p>Add app</p>
            </s-if>
        </main>
        <nav>
            <s-set var="pages" value="['explore', 'new', 'categories', 'add', 'installed']"></s-set>
            <s-for var="i" start="0" stop="pages.length">
                <li><a href="javascript:switchToPage('{{ pages[i] }}');" data-page="{{ pages[i] }}" class="{{ currentPage == pages[i] ? 'selected' : '' }}" translate>{{ pages[i] }}</a></li>
            </s-for>
        </nav>
    </body>
</html>